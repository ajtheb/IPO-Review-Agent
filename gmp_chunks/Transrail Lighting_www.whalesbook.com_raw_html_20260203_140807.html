<!-- Source URL: https://www.whalesbook.com/news/English/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8 -->
<!-- Scraped at: 2026-02-03T14:08:07.482302 -->

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Ad Network Preconnect -->
    <link rel="preconnect" href="https://www.highperformanceformat.com">

    <!-- Whalesbook/App Preconnects -->
    <link rel="preconnect" href="https://app1.whalesbook1.shop" crossorigin>
    <link rel="preconnect" href="https://images.whalesbook.com" crossorigin>
    <link rel="preconnect" href="https://whalesbook.com">

    <style>
        :root {
            --bg: #000000;
            --card-bg: #09090b;
            --border: #27272a;

            --text-main: #ffffff;
            --text-muted: #a1a1aa;

            --accent: #a855f7;
            --accent-glow: rgba(168, 85, 247, 0.3);

            --separator-gradient: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.4), transparent);

            --brand-whatsapp: #25D366;
            --brand-linkedin: #0077b5;
            --brand-facebook: #1877F2;
            --brand-x: #fff;

            --positive: #22c55e;
            --negative: #ef4444;
            --warning: #f59e0b;

            --font-serif: Georgia, 'Times New Roman', Times, serif;
            --font-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: var(--font-sans);
            background: var(--bg);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: opacity 0.2s;
        }

        a:hover {
            opacity: 0.8;
        }

        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            z-index: 1000;
            background: transparent;
        }

        .container {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 20px;
            margin-top: 50px;
        }

        .main-layout-grid {
            display: grid;
            grid-template-columns: minmax(0, 1fr) 340px;
            gap: 40px;
            padding-top: 20px;
            padding-bottom: 40px;
            align-items: start;
        }

        .main-content-area {
            min-width: 0;
        }

        @media(max-width: 900px) {
            .main-layout-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 4px;
            }
        }

        .article-meta-top {
            display: flex;
            align-items: center;
            font-size: 13px;
            color: var(--text-muted);
            font-family: var(--font-sans);
            letter-spacing: 0.5px;
            margin-bottom: 5px;
            align-self: center;
        }

        .article-meta-top span.category {
            color: #000;
            font-weight: 700;
            text-transform: uppercase;
            margin-right: 8px;
            background: var(--accent);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
        }

        h1 {
            font-family: var(--font-serif);
            font-size: 42px;
            line-height: 1.15;
            font-weight: 700;
            margin: 0 0 5px 0;
            color: #ffffff;
            letter-spacing: -0.5px;
            padding: 0px 12px;
        }

        .author-social-wrapper {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
            background-size: 100% 1px;
            background-repeat: no-repeat;
            background-position: bottom;
        }

        .author-block {
            display: flex;
            align-items: flex-end;
            gap: 12px;
        }

        .author-text {
            display: flex;
            flex-direction: column;
        }

        .social-actions {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0 12px;
        }

        .share-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #0f0f0f;
            transition: background 0.2s ease;
        }

        .content-body table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            font-family: var(--font-sans);
            /* Switch to sans-serif for readability */
            font-size: 16px;
            background-color: var(--card-bg);
        }

        .content-body th,
        .content-body td {
            padding: 12px 15px;
            border: 1px solid var(--border);
            text-align: left;
            color: var(--text-main);
        }

        .content-body th {
            background-color: #1a1a1a;
            /* Slightly lighter than card-bg */
            color: var(--accent);
            /* Use your purple accent color for headers */
            font-weight: 700;
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 1px;
        }


        .trust-plus-1 {
            width: 100%;
            height: auto;
            aspect-ratio: 16 / 9;
            /* Reserves space before load */
            object-fit: cover;
            border-radius: 4px;
            background-color: #111;
            /* Placeholder */
            display: block;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .content-body tr:hover {
            background-color: #1f1f22;
            /* highlight row on hover */
        }

        #whatsapp {
            background: var(--brand-whatsapp);
        }

        #facebook {
            background: var(--brand-facebook);
        }

        .share-icon svg {
            width: 18px;
            height: 18px;
            display: block;
        }

        .share-icon:hover {
            background: #1a1a1a;
        }

        .content-body a,
        .main-content-area p a {
            color: #60a5fa;
            /* Light Blue for visibility on dark bg */
            cursor: pointer;
            text-decoration: underline;
        }

        .google-pill {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            border-radius: 10px;
            background: #0f0f0f;
            color: #fff;
            text-decoration: none;
        }

        .google-pill svg {
            width: 18px;
            height: 18px;
            display: block;
        }

        .google-pill-text span {
            display: block;
            font-size: 11px;
            line-height: 1.1;
        }

        .main-hero {
            width: 100%;
            height: auto;
            aspect-ratio: 16 / 9;
            object-fit: cover;
            border-radius: 4px;
            background-color: #111;
            display: block;
        }

        .content-body {
            font-size: 20px;
            line-height: 1.7;
            color: #e4e4e7;
            font-family: var(--font-serif);
            padding: 0 12px;
            content-visibility: auto;
            contain-intrinsic-size: 1000px;
        }

        .content-body p {
            margin-bottom: 28px;
        }

        .widget {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 24px;
            min-height: 100px;
            margin-bottom: 20px;
        }

        .widget-title {
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--accent);
            margin-bottom: 20px;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .related-item {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            text-decoration: none;
        }

        .related-img {
            width: 80px;
            height: 54px;
            background: #222;
            border-radius: 4px;
            object-fit: cover;
            flex-shrink: 0;
        }

        .related-info {
            flex: 1;
        }

        .related-tag {
            font-size: 10px;
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 4px;
        }

        .related-title {
            font-size: 13px;
            font-weight: 500;
            color: #fff;
            line-height: 1.4;
            font-family: var(--font-sans);
        }

        .related-item:hover .related-title {
            color: var(--accent);
        }

        .disclaimer {
            position: relative;
            font-size: 13px;
            color: rgba(216, 216, 216, 0.95);
            background: transparent;
            padding: 6px 8px;
            margin-top: 12px;
            margin-left: 12px;
            font-family: var(--font-sans);
        }

        footer {
            border-top: 1px solid var(--border);
            padding: 60px 20px;
            background: #000;
            text-align: center;
            color: #555;
            font-size: 13px;
        }

        #footer-space {
            margin-bottom: 0px;
            height: 100px;
            width: 100%;
            display: block;
        }

        @media (max-width: 600px) {
            .share-icon {
                width: 22px;
                height: 22px;
            }

            .author-text {
                margin-left: 10px;
            }

            .author-social-wrapper {
                margin-top: 5px;
            }

            .author-block {
                gap: 0px;
                align-items: flex-end;
                padding: 0 12px;
            }

            .main-layout-grid {
                margin: 0;
                margin-top: 80px;
            }

            .share-icon svg {
                width: 14px;
                height: 14px;
            }

            .google-pill svg {
                width: 14px;
                height: 14px;
            }

            .google-pill-text span {
                font-size: 10px;
                line-height: 1.2;
            }

            h1 {
                font-size: 26px;
                margin: 0 0 0 0;
            }

            .author-social-wrapper {
                justify-content: flex-start;
            }

            .social-actions {
                width: 100%;
                justify-content: flex-start;
            }

            .article-meta-top {
                flex-wrap: wrap;
            }

            .separator {
                display: none;
            }

            .pub-date-wrap {
                width: 100%;
                display: block;
                margin-top: 4px;
            }
        }

        .last-news {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .last-news .related-item {
            flex: 0 0 calc(33.333% - 16px);
        }

        #extra-news-category {
            display: inline-flex !important;
            align-items: center !important;
            gap: 6px !important;
            padding: 6px 12px !important;
            border-radius: 999px !important;
            margin-left: 12px !important;
            background: rgba(168, 85, 247, 0.14) !important;
            border: 1px solid rgba(168, 85, 247, 0.32) !important;
            color: #d8b4fe !important;
            font-weight: 800 !important;
            font-size: 12px !important;
            letter-spacing: 0.7px !important;
            text-transform: uppercase !important;
        }

        #extra-news-category::before {
            content: "";
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #a855f7;
            box-shadow: 0 0 12px rgba(168, 85, 247, 0.6);
            display: inline-block;
        }

        @media (max-width: 768px) {
            .last-news .related-item {
                flex: 0 0 100%;
            }

            #extra-news-category {
                margin-top: 12px !important;
            }

            .last-news {
                padding: 12px;
            }
        }

        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
    </style>

    <!-- âœ… Worker injects from JSON: data.seo.metadata -->
    <title>Transrail Lighting Surges 32% in Q3 Revenue, Margins See Pressure</title>
<meta name="description" content="Transrail Lighting posted robust Q3 FY26 results with standalone revenue up 32.56% to â‚¹1,776.68 crore and consolidated PAT rising 17.70% to â‚¹109.74 crore. Nine-month figures also show strong YoY growth. However, standalone EBITDA margins compressed to 12.47% from 13.37%, and an exceptional item of â‚¹17.38 crore impacted profits." />
<link rel="canonical" href="https://www.whalesbook.com/news/English/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" />
    <!-- âœ… Worker injects from JSON: data.seo.altData -->
    <link rel="alternate" href="https://www.whalesbook.com/news/English/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="en" />
<link rel="alternate" href="https://www.whalesbook.com/news/Hinglish/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="en-IN" />
<link rel="alternate" href="https://www.whalesbook.com/news/Punjabi/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="pa" />
<link rel="alternate" href="https://www.whalesbook.com/news/Hindi/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="hi" />
<link rel="alternate" href="https://www.whalesbook.com/news/Tamil/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="ta" />
<link rel="alternate" href="https://www.whalesbook.com/news/Telugu/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="te" />
<link rel="alternate" href="https://www.whalesbook.com/news/Gujarati/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="gu" />
<link rel="alternate" href="https://www.whalesbook.com/news/Marathi/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="mr" />
<link rel="alternate" href="https://www.whalesbook.com/news/English/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8" hreflang="x-default" />
    <!-- âœ… Worker injects from JSON: data.seo.jsonLd (NewsArticle + Breadcrumb) -->
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"NewsArticle","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.whalesbook.com/news/English/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8"},"headline":"Transrail Lighting Surges 32% in Q3 Revenue, Margins See Pressure","description":"Transrail Lighting Q3 revenue jumps 32% YoY to â‚¹1,776.68 crore; consolidated PAT up 17.7%. Standalone margins contract, exceptional item impacts profit. See analysis.","inLanguage":"en","articleSection":"industrial-goodsservices","datePublished":"2026-02-02T16:08:27.654Z","dateModified":"2026-02-02T16:08:27.654Z","articleBody":"ðŸ“‰ The Financial Deep Dive The Numbers: Transrail Lighting Limited announced strong top-line growth for the third quarter and first nine months of FY26. Q3 FY26 Standalone Revenue: â‚¹1,776.68 crore, marking a significant 32.56% Year-on-Year (YoY) increase. Q3 FY26 Consolidated Revenue: â‚¹1,777.19 crore, up 32.58% YoY. Q3 FY26 Standalone Profit After Tax (PAT): â‚¹111.90 crore, a 14.68% YoY rise. Q3 FY26 Consolidated PAT: â‚¹109.74 crore, growing 17.70% YoY. For the nine-month period ending December 31, 2025: 9M FY26 Standalone Revenue: â‚¹4,947.15 crore, a substantial 49.67% YoY growth. 9M FY26 Consolidated Revenue: â‚¹4,948.50 crore, up 49.71% YoY. 9M FY26 Consolidated PAT: â‚¹306.53 crore, a remarkable 53.21% YoY surge. The Quality: While revenue performance was stellar, profitability metrics showed mixed trends. Standalone EBITDA Margin: Experienced compression, declining from approximately 13.37% in Q3 FY25 to 12.47% in Q3 FY26. Consolidated EBITDA Margin: Remained largely stable, moving marginally from 10.44% in Q3 FY25 to 10.42% in Q3 FY26. Exceptional Item: A one-off charge of â‚¹17.38 crore was recognized due to the statutory impact of new Labour Codes, affecting both standalone and consolidated PAT for the period. The Grill: No management guidance or forward-looking statements were provided in the company's filing. ðŸš© Risks & Outlook The primary concern for investors stems from the standalone margin compression, suggesting that while the company is growing its top line aggressively, its cost structure or pricing power may be under pressure in its standalone operations. The exceptional item, though identified as statutory impact, adds a layer of complexity in assessing underlying operational profitability. The recent acquisition of a 32% equity stake in CEDEC Engineering Private Limited makes it an associate company. This move indicates strategic expansion and integration into the Engineering, Procurement, and Construction (EPC) segment, which investors will need to monitor for its contribution to future earnings and cash flows. Geographically, the nine-month revenue split shows a near-equal contribution from India (â‚¹2,402.53 crore) and outside India (â‚¹2,545.97 crore), highlighting a diversified operational base. The company operates under a single segment: EPC. Investors should watch for margin recovery in the upcoming quarters and any further clarity on the implementation and financial implications of the new Labour Codes.","image":[{"@type":"ImageObject","url":"https://images.whalesbook.com/images/thumbnail_6980cb07c680f8b0a9f5e8d7_1770048504252.jpeg","width":1200,"height":800}],"author":[{"@type":"Person","name":"Aarav Shah","url":"https://www.whalesbook.com/authors/aarav-shah"}],"publisher":{"@type":"Organization","name":"Whalesbook","logo":{"@type":"ImageObject","url":"https://www.whalesbook.com/logo.png"}},"keywords":"Transrail Lighting, Transrail Lighting Q3 FY26, Q3 Earnings India, EPC company results, Revenue growth India, Consolidated PAT, Standalone EBITDA margin, Margin compression, Exceptional item, Indian stock market, BSE, NSE, CEDEC Engineering"}</script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"English","item":"https://www.whalesbook.com/news/English"},{"@type":"ListItem","position":2,"name":"industrial-goodsservices","item":"https://www.whalesbook.com/news/English/industrial-goodsservices"},{"@type":"ListItem","position":3,"name":"Transrail Lighting Surges 32% in Q3 Revenue, Margins See Pressure","item":"https://www.whalesbook.com/news/English/industrial-goodsservices/Transrail-Lighting-Surges-32percent-in-Q3-Revenue-Margins-See-Pressure/6980cb07c680f8b0a9f5e8d8"}]}</script>

</head>

<body>
    <div id="header-root"></div>

    <div class="container main-layout-grid">

        <main class="main-content-area">
            <div class="article-meta-top">
                <a href="/news" aria-label="Go back" id="go-back" style="margin-top:5px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-chevron-left">
                        <path d="m15 18-6-6 6-6"></path>
                    </svg>
                </a>
            </div>
            <!-- âœ… Worker injects from JSON -->
            <h1>Transrail Lighting Surges 32% in Q3 Revenue, Margins See Pressure</h1>

            <span class="category" id="extra-news-category" style="margin-left:12px; color:#9ca3af;">
                INDUSTRIAL-GOODSSERVICES
            </span>

            <div class="author-social-wrapper">
                <div class="author-block" style="
                    display:flex;
                    align-items:stretch;
                    font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
                    font-size:13px;
                    color:#ffffff;
                ">

                    <!-- Logo -->
                    <div class="whalesbook-icon" style="display:flex;align-items:center;flex-shrink:0;">
                        <img src="https://whalesbook-cdn.b-cdn.net/home/images/logo/whalesbook-logo.png"
                            alt="Whalesbook Logo" aria-label="Whalesbook" width="24" height="50%" loading="eager"
                            decoding="async" style="display:block;height:55%;width:auto;" />
                    </div>

                    <!-- Text Area -->
                    <div class="author-text"
                        style="display:flex;flex-direction:column;justify-content:center;line-height:1.3;">
                        <span style="font-weight:400;">Author</span>

                        <span style="display:flex; flex-wrap:wrap; align-items:center;">
                            <span style="font-weight:600;">Aarav Shah</span>
                            <span style="margin:0 4px;">|</span>

                            <!-- âœ… Published Display injected from JSON -->
                            <span style="font-size:13px;color:#9ca3af;display:flex;align-items:center;gap:4px;">
                                <span>Published at:</span>

                                <time datetime="2026-02-02T16:08:27.654Z" itemprop="datePublished"
                                    style="color:#e5e7eb;font-weight:500;letter-spacing:0.2px;">
                                    2nd February 2026, 9:38 pm
                                </time>
                            </span>
                        </span>
                    </div>
                </div>

                <div class="social-actions">
                    <!-- WhatsApp -->
                    <a href="#" class="share-icon whatsapp" id="whatsapp" title="Share on WhatsApp"
                        aria-label="Share on whatsapp" target="_blank" rel="nofollow noopener">
                        <svg width="18" height="18" viewBox="0 0 32 32" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.04 2.004c-7.732 0-14.02 6.288-14.02 14.02 0 2.47.647 4.89 1.875 7.02L2 30l7.164-1.857a13.948 13.948 0 006.875 1.858h.001c7.73 0 14.02-6.288 14.02-14.02 0-3.746-1.46-7.267-4.108-9.914a13.94 13.94 0 00-9.912-4.063zm0 25.45a11.39 11.39 0 01-5.79-1.587l-.415-.245-4.25 1.104 1.135-4.142-.27-.43a11.39 11.39 0 01-1.72-6.06c0-6.31 5.13-11.44 11.44-11.44 3.05 0 5.915 1.188 8.07 3.344a11.35 11.35 0 013.35 8.095c0 6.31-5.13 11.44-11.44 11.44zm6.275-8.54c-.343-.172-2.03-1.003-2.346-1.118-.316-.114-.545-.172-.774.172-.23.343-.888 1.118-1.09 1.346-.202.23-.402.258-.745.086-.343-.172-1.45-.534-2.76-1.704-1.02-.91-1.708-2.03-1.91-2.374-.202-.343-.02-.53.153-.702.155-.154.343-.402.515-.603.172-.202.23-.343.344-.573.114-.23.057-.43-.03-.603-.086-.172-.774-1.87-1.06-2.56-.28-.672-.565-.58-.774-.59-.2-.01-.43-.012-.66-.012-.23 0-.603.086-.917.43-.316.343-1.2 1.173-1.2 2.86 0 1.69 1.23 3.32 1.4 3.55.172.23 2.42 3.7 5.86 5.18.82.353 1.46.564 1.96.722.823.262 1.573.225 2.165.136.66-.1 2.03-.83 2.317-1.63.287-.8.287-1.49.2-1.63-.086-.144-.316-.23-.66-.402z" />
                        </svg>
                    </a>

                    <!-- X -->
                    <a href="#" class="share-icon x" title="Share on X" target="_blank" rel="nofollow noopener"
                        aria-label="Share on x">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                        </svg>
                    </a>

                    <!-- Facebook -->
                    <a href="#" class="share-icon facebook" id="facebook" title="Share on Facebook" target="_blank"
                        rel="nofollow noopener" aria-label="Share on Facebook">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                        </svg>
                    </a>

                    <!-- Google Preferred Source -->
                    <a href="https://www.google.com/search?q=whalesbook" class="google-pill" target="_blank"
                        rel="nofollow noopener" aria-label="Search on Google">
                        <svg width="18" height="18" viewBox="0 0 24 24">
                            <path fill="#4285F4"
                                d="M23.745 12.27c0-.79-.07-1.54-.19-2.27h-11.3v4.51h6.47c-.29 1.48-1.14 2.73-2.4 3.6v3.1h3.9c2.28-2.1 3.58-5.19 3.58-8.94l-.06-.02z" />
                            <path fill="#34A853"
                                d="M12.255 24c3.24 0 5.95-1.08 7.93-2.91l-3.9-3.1c-1.08.72-2.45 1.16-4.03 1.16-3.13 0-5.78-2.11-6.73-4.96H1.505v3.17C3.44 21.11 7.575 24 12.255 24z" />
                            <path fill="#FBBC05"
                                d="M5.525 14.29c-.25-.72-.38-1.49-.38-2.29s.14-1.57.38-2.29V6.53H1.505C.55 8.44 0 10.66 0 13s.55 4.56 1.505 6.47l4.02-3.18z" />
                            <path fill="#EA4335"
                                d="M12.255 5.05c1.77 0 3.35.6 4.6 1.8l3.42-3.42C18.205 1.51 15.495 0 12.255 0 7.575 0 3.44 2.89 1.505 6.53l4.02 3.18c.95-2.85 3.6-4.96 6.73-4.96z" />
                        </svg>
                        <div class="google-pill-text">
                            <span>Add as a Preferred</span>
                            <span>Source on Google</span>
                        </div>
                    </a>
                </div>
            </div>

            <!-- âœ… Worker injects <source> tags from data.imageVersions -->
            <picture class="main-hero-picture">
                <source media="(max-width: 600px)" srcset="https://images.whalesbook.com/images/thumbnail_6980cb07c680f8b0a9f5e8d7_1770048504252-mobile.jpeg">
<source media="(max-width: 1024px)" srcset="https://images.whalesbook.com/images/thumbnail_6980cb07c680f8b0a9f5e8d7_1770048504252-small.jpeg">
                <img src="https://images.whalesbook.com/images/thumbnail_6980cb07c680f8b0a9f5e8d7_1770048504252.jpeg" class="main-hero" alt="Transrail Lighting Surges 32% in Q3 Revenue, Margins See Pressure" fetchpriority="high" loading="eager"
                    decoding="async">
            </picture>

            <!-- âœ… Overview quote from JSON shortDescription -->
            <div style="background-color:#050505;color:#ffffff;padding:30px 20px;box-sizing:border-box;width:100%;">
                <div style="max-width:900px;margin:0 auto;">
                    <div style="border-left:4px solid var(--accent);padding-left:25px;">
                        <span
                            style="display:block;font-size:14px;letter-spacing:2px;text-transform:uppercase;color:#aaaaaa;margin-bottom:10px;font-weight:600;">
                            Overview
                        </span>

                        <p
                            style="font-family:'Georgia','Times New Roman',Times,serif;font-style:italic;font-size:20px;line-height:1.6;color:#ffffff;margin:0;">
                            Transrail Lighting posted robust Q3 FY26 results with standalone revenue up 32.56% to â‚¹1,776.68 crore and consolidated PAT rising 17.70% to â‚¹109.74 crore. Nine-month figures also show strong YoY growth. However, standalone EBITDA margins compressed to 12.47% from 13.37%, and an exceptional item of â‚¹17.38 crore impacted profits.
                        </p>
                    </div>
                </div>
            </div>

            <!-- âœ… Worker converts markdown -> HTML -->
            <article class="content-body">
                <h3>ðŸ“‰ The Financial Deep Dive</h3>
<p><strong>The Numbers:</strong><br/>Transrail Lighting Limited announced strong top-line growth for the third quarter and first nine months of FY26.<br/><ul><li><strong>Q3 FY26 Standalone Revenue:</strong> â‚¹1,776.68 crore, marking a significant <strong>32.56%</strong> Year-on-Year (YoY) increase.</li><br/><li><strong>Q3 FY26 Consolidated Revenue:</strong> â‚¹1,777.19 crore, up <strong>32.58%</strong> YoY.</li><br/><li><strong>Q3 FY26 Standalone Profit After Tax (PAT):</strong> â‚¹111.90 crore, a <strong>14.68%</strong> YoY rise.</li><br/><li><strong>Q3 FY26 Consolidated PAT:</strong> â‚¹109.74 crore, growing <strong>17.70%</strong> YoY.</li></p>
<p></ul>For the nine-month period ending December 31, 2025:<br/><ul><li><strong>9M FY26 Standalone Revenue:</strong> â‚¹4,947.15 crore, a substantial <strong>49.67%</strong> YoY growth.</li><br/><li><strong>9M FY26 Consolidated Revenue:</strong> â‚¹4,948.50 crore, up <strong>49.71%</strong> YoY.</li><br/><li><strong>9M FY26 Consolidated PAT:</strong> â‚¹306.53 crore, a remarkable <strong>53.21%</strong> YoY surge.</li></p>
<p></ul><strong>The Quality:</strong><br/>While revenue performance was stellar, profitability metrics showed mixed trends.<br/><ul><li><strong>Standalone EBITDA Margin:</strong> Experienced compression, declining from approximately <strong>13.37%</strong> in Q3 FY25 to <strong>12.47%</strong> in Q3 FY26.</li><br/><li><strong>Consolidated EBITDA Margin:</strong> Remained largely stable, moving marginally from <strong>10.44%</strong> in Q3 FY25 to <strong>10.42%</strong> in Q3 FY26.</li><br/><li><strong>Exceptional Item:</strong> A one-off charge of <strong>â‚¹17.38 crore</strong> was recognized due to the statutory impact of new Labour Codes, affecting both standalone and consolidated PAT for the period.</li></p>
<p></ul><strong>The Grill:</strong><br/>No management guidance or forward-looking statements were provided in the company&#039;s filing.</p>
<p>ðŸš© <strong>Risks &amp; Outlook</strong></p>
<p>The primary concern for investors stems from the <strong>standalone margin compression</strong>, suggesting that while the company is growing its top line aggressively, its cost structure or pricing power may be under pressure in its standalone operations. The <strong>exceptional item</strong>, though identified as statutory impact, adds a layer of complexity in assessing underlying operational profitability.</p>
<p>The recent acquisition of a <strong>32% equity stake in CEDEC Engineering Private Limited</strong> makes it an associate company. This move indicates strategic expansion and integration into the Engineering, Procurement, and Construction (EPC) segment, which investors will need to monitor for its contribution to future earnings and cash flows.</p>
<p>Geographically, the nine-month revenue split shows a near-equal contribution from India (<strong>â‚¹2,402.53 crore</strong>) and outside India (<strong>â‚¹2,545.97 crore</strong>), highlighting a diversified operational base. The company operates under a single segment: EPC.</p>
<p>Investors should watch for margin recovery in the upcoming quarters and any further clarity on the implementation and financial implications of the new Labour Codes.</p>
            </article>

            <div class="disclaimer" role="note" aria-label="Legal disclaimer">
                <strong>Disclaimer:</strong>This content is for educational and informational purposes only
                and does not constitute investment, financial, or trading advice, nor a recommendation to buy or sell
                any securities. Readers should consult a SEBI-registered advisor before making investment decisions, as
                markets involve risk and past performance does not guarantee future results. The publisher and authors
                accept no liability for any losses. Some content may be AI-generated and may contain errors; accuracy
                and completeness are not guaranteed. Views expressed do not reflect the publicationâ€™s editorial stance.
            </div>


            <!-- âœ… Company Tabs (deferred) -->

            <!-- âœ… WB Company Tabs Mount -->
            <!-- âœ… WB Company Tabs Mount -->
            <div id="wb-company-tabs-root" data-wb-company="[{&quot;symbol&quot;:&quot;544317&quot;,&quot;name&quot;:&quot;Transrail Lighting Limited&quot;}]"></div>

            <!-- âœ… WB Company Lazy Loader (VERY light, no LCP effect) -->
            <script type="e08a021a6d5bde2c406deaa6-text/javascript">
                (() => {
                    // if no company data, do nothing
                    const mount = document.getElementById("wb-company-tabs-root");
                    if (!mount) return;

                    const raw = mount.getAttribute("data-wb-company");
                    if (!raw || raw === "[]") return;

                    let started = false;

                    function startCompanyTabs() {
                        if (started) return;
                        started = true;

                        // âœ… Inject JSON script dynamically
                        const jsonScript = document.createElement("script");
                        jsonScript.id = "__WB_COMPANY__";
                        jsonScript.type = "application/json";
                        jsonScript.textContent = raw;
                        document.body.appendChild(jsonScript);

                        // âœ… Inject actual tabs JS dynamically (downloads only now)
                        const s = document.createElement("script");
                        s.src = "https://whalesbook-cdn.b-cdn.net/company/company.js";
                        s.defer = true;
                        document.body.appendChild(s);

                        // Optional debug
                        console.log("âœ… Company JSON + Tabs JS injected");
                    }

                    // âœ… OPTION A: first scroll triggers load
                    window.addEventListener("scroll", startCompanyTabs, { once: true, passive: true });

                    // âœ… OPTION B: if user directly jumps / fast load, also trigger near section
                    const io = new IntersectionObserver((entries) => {
                        if (entries.some(e => e.isIntersecting)) {
                            startCompanyTabs();
                            io.disconnect();
                        }
                    }, { rootMargin: "400px" });

                    io.observe(mount);

                })();
            </script>

        </main>

        <aside class="sidebar">
            <!-- your sidebar unchanged -->
            <div
                style="max-width:600px;margin:20px auto;border:1px solid #1F2933;border-radius:8px;overflow:hidden;background:#0D0F13;">
                <div style="padding:12px 16px;border-bottom:1px solid #1F2933;font-size:16px;font-weight:600;">
                    Stocks
                </div>

                <div style="padding:0;margin:0;">
                    <div
                        style="display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid rgba(31,41,55,0.7);">
                        <div>
                            <div style="font-size:14px;font-weight:500;">Axis Bank Ltd</div>
                            <div style="font-size:12px;color:#9CA3AF;">BSE: 532215</div>
                        </div>
                        <a href="https://www.whalesbook.com/login"
                            style="text-decoration:none;padding:6px 14px;border-radius:6px;font-size:12px;font-weight:600;color:#ffffff;background:linear-gradient(to right,#C544C9,#8460ED);">Add
                            to Watchlist</a>
                    </div>

                    <div
                        style="display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid rgba(31,41,55,0.7);">
                        <div>
                            <div style="font-size:14px;font-weight:500;">Bharti Airtel Ltd</div>
                            <div style="font-size:12px;color:#9CA3AF;">BSE: 532454</div>
                        </div>
                        <a href="https://www.whalesbook.com/login"
                            style="text-decoration:none;padding:6px 14px;border-radius:6px;font-size:12px;font-weight:600;color:#ffffff;background:linear-gradient(to right,#C544C9,#8460ED);">Add
                            to Watchlist</a>
                    </div>

                    <div
                        style="display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid rgba(31,41,55,0.7);">
                        <div>
                            <div style="font-size:14px;font-weight:500;">HDFC Bank Ltd</div>
                            <div style="font-size:12px;color:#9CA3AF;">BSE: 500180</div>
                        </div>
                        <a href="https://www.whalesbook.com/login"
                            style="text-decoration:none;padding:6px 14px;border-radius:6px;font-size:12px;font-weight:600;color:#ffffff;background:linear-gradient(to right,#C544C9,#8460ED);">Add
                            to Watchlist</a>
                    </div>

                    <div
                        style="display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid rgba(31,41,55,0.7);">
                        <div>
                            <div style="font-size:14px;font-weight:500;">Infosys Ltd</div>
                            <div style="font-size:12px;color:#9CA3AF;">BSE: 500209</div>
                        </div>
                        <a href="https://www.whalesbook.com/login"
                            style="text-decoration:none;padding:6px 14px;border-radius:6px;font-size:12px;font-weight:600;color:#ffffff;background:linear-gradient(to right,#C544C9,#8460ED);">Add
                            to Watchlist</a>
                    </div>

                    <div style="display:flex;align-items:center;justify-content:space-between;padding:12px 16px;">
                        <div>
                            <div style="font-size:14px;font-weight:500;">ICICI Bank Ltd</div>
                            <div style="font-size:12px;color:#9CA3AF;">BSE: 532174</div>
                        </div>
                        <a href="https://www.whalesbook.com/login"
                            style="text-decoration:none;padding:6px 14px;border-radius:6px;font-size:12px;font-weight:600;color:#ffffff;background:linear-gradient(to right,#C544C9,#8460ED);">Add
                            to Watchlist</a>
                    </div>
                </div>
            </div>

            <div class="widget">
                <div class="widget-title">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a855f7" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="3" y1="9" x2="21" y2="9"></line>
                        <line x1="9" y1="21" x2="9" y2="9"></line>
                    </svg>
                    Latest News
                </div>
                <div id="r1">
                    <div style="color:#444;font-size:12px;"></div>
                </div>
            </div>

            <div class="widget">
                <div class="widget-title">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a855f7" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="3" y1="9" x2="21" y2="9"></line>
                        <line x1="9" y1="21" x2="9" y2="9"></line>
                    </svg>
                    <span id="more-from"></span>
                </div>
                <div id="r2">
                    <div style="color:#444;font-size:12px;"></div>
                </div>
            </div>
        </aside>

        <div id="r3" class="last-news">
            <div style="color:#444;font-size:12px;"></div>
        </div>

    </div>

    <div id="footer-space"></div>
    <div id="footer-root"></div>

    <!-- âœ… Your scripts remain exactly same -->
    <!-- (No changes needed for publishedDisplay, because worker injects it into 2nd February 2026, 9:38 pm) -->

<script data-cfasync="false" type="text/javascript" id="clever-core">
/* <![CDATA[ */
    (function (document, window) {
        var a, c = document.createElement("script"), f = window.frameElement;

        c.id = "CleverCoreLoader99230";
        c.src = "https://scripts.cleverwebserver.com/1eb63fcaa5a8292d8f4965fd232e9db1.js";

        c.async = !0;
        c.type = "text/javascript";
        c.setAttribute("data-target", window.name || (f && f.getAttribute("id")));
        c.setAttribute("data-callback", "put-your-callback-function-here");
        c.setAttribute("data-callback-url-click", "put-your-click-macro-here");
        c.setAttribute("data-callback-url-view", "put-your-view-macro-here");

        try {
            a = parent.document.getElementsByTagName("script")[0] || document.getElementsByTagName("script")[0];
        } catch (e) {
            a = !1;
        }

        a || (a = document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]);
        a.parentNode.insertBefore(c, a);
    })(document, window);
/* ]]> */
</script>


    <script type="e08a021a6d5bde2c406deaa6-text/javascript">
        function toggleMenu() {
            var menu = document.getElementById("mobileMenu");
            if (menu) menu.classList.toggle("active");
        }
    </script>

    <script type="e08a021a6d5bde2c406deaa6-text/javascript">
        (function () {

            const loader = document.createElement("div");
            loader.id = "page-loader";
            loader.style.cssText = `
    position: fixed;
    inset: 0;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 999999;
    opacity: 0;
    pointer-events: none;
    transition: opacity .15s ease;
  `;
            loader.innerHTML = `
    <div style="
      width:26px;
      height:26px;
      border:2px solid rgba(255,255,255,.3);
      border-top:2px solid #fff;
      border-radius:50%;
      animation: spin .8s linear infinite;
    "></div>
    <style>@keyframes spin { to { transform: rotate(360deg); } }</style>
  `;
            document.documentElement.appendChild(loader);

            function showLoader() {
                loader.style.opacity = "1";
                loader.style.pointerEvents = "auto";
            }
            function hideLoader() {
                loader.style.opacity = "0";
                loader.style.pointerEvents = "none";
            }

            // Safety: if user comes back / bfcache, hide
            window.addEventListener("pageshow", hideLoader);
            document.addEventListener("visibilitychange", () => {
                if (document.visibilityState === "visible") hideLoader();
            });

            document.addEventListener("click", function (e) {
                const link = e.target.closest("a[href]");
                if (!link) return;

                const href = link.getAttribute("href");
                if (!href || href.startsWith("#") || href.startsWith("javascript:")) return;

                // âœ… Don't show loader for share buttons (optional but clean)
                if (link.closest(".social-actions") || link.classList.contains("share-icon")) return;

                // âœ… Don't show loader if it opens a new tab/window
                const target = (link.getAttribute("target") || "").toLowerCase();
                if (target === "_blank") return;

                // âœ… Don't show loader for downloads
                if (link.hasAttribute("download")) return;

                // âœ… Don't show loader for modified clicks (ctrl/cmd/shift/middle click)
                if (e.metaKey || e.ctrlKey || e.shiftKey || e.button === 1) return;

                // âœ… If link is external, you can decide:
                // If you DO want loader for external same-tab nav, keep it.
                // If you DON'T want it, uncomment next 2 lines.
                // const u = new URL(link.href, location.href);
                // if (u.origin !== location.origin) return;

                showLoader();
            }, { capture: true });

            window.addEventListener("beforeunload", showLoader);
            /* =======================
               âœ… CANONICAL URL HELPERS (WORKER SAME LOGIC)
            ======================== */

            const ALLOWED_LANGUAGES = new Set([
                "English", "Punjabi", "Gujarati", "Tamil", "Telugu", "Hindi", "Marathi",
            ]);

            const SYMBOL_WORD_MAP = {
                "%": "percent",
                "&": "and",
                "@": "at",
                "$": "dollar",
                "â‚¹": "indian-rupee",
                "â‚¬": "euro",
                "Â£": "pound",
                "#": "hash",
                "*": "star",
            };

            const sectorsList = [
                "Auto",
                "Banking/Finance",
                "Consumer Products",
                "Energy",
                "Tech",
                "Renewables",
                "Industrial Goods/Services",
                "Healthcare/Biotech",
                "Media and Entertainment",
                "Transportation",
                "Technology",
                "Telecom",
                "Environment",
                "World Affairs",
                "Insurance",
                "Research Reports",
                "Ipo",
                "Real Estate",
                "Startups/VC",
                "Mutual Funds",
                "Agriculture",
                "Crypto",
                "Brokerage Reports",
                "Stock Investment Ideas",
                "Science & Space",
                "Law/Court",
                "Aerospace & Defense",
                "Textile",
                "Economy",
                "Tourism",
                "Chemicals",
                "Personal Finance",
                "Railway",
                "Commodities",
                "SEBI/Exchange",
                "RBI",
                "International News",
                "Luxury Products",
                "Sports",
                "Other",
            ];

            function sectorMatchKey(s) {
                return String(s || "")
                    .toLowerCase()
                    .replaceAll("/", " ")
                    .replaceAll("-", " ")
                    .replaceAll("&", " ")
                    .replace(/\s+/g, " ")
                    .trim()
                    .replaceAll(" ", "");
            }

            const SECTOR_INDEX = (() => {
                const map = new Map();
                for (const s of sectorsList) {
                    const key = sectorMatchKey(s);
                    if (!map.has(key)) map.set(key, s);
                }
                return map;
            })();

            function resolveSectorFromAnyInput(anyType) {
                if (!anyType) return null;

                const cleaned = String(anyType).trim().replaceAll("%2F", "/");

                if (sectorsList.includes(cleaned)) return cleaned;

                const key = sectorMatchKey(cleaned);
                return SECTOR_INDEX.get(key) || null;
            }

            function sectorToPathSegment(sectorName) {
                if (!sectorName) return "Other";
                return String(sectorName)
                    .replaceAll("/", "")
                    .replace(/\s+/g, "-")
                    .replaceAll("&", "")
                    .replace(/-+/g, "-")
                    .replace(/^-+|-+$/g, "");
            }

            function replaceSymbols(text) {
                return text.replace(/(\s*)([%&+@$â‚¹â‚¬Â£#*])(\s*)/g, (m, b, sym, a) => {
                    const word = SYMBOL_WORD_MAP[sym];
                    if (!word) return m;
                    return (b ? " " : "") + word + (a ? " " : "");
                });
            }

            function slugifyLanWorker(text) {
                if (!text) return "";

                const normalized = replaceSymbols(
                    String(text)
                        .normalize("NFKD")
                        .replace(/[\u0300-\u036f]/g, "")
                        .replace(/[\u2013\u2014\u2212]/g, " ")
                );

                const removed = normalized.replace(
                    /[!"'()*+,./:;<=>?[\]^_`{|}~<>]/g,
                    ""
                );

                return removed
                    .trim()
                    .replace(/\s+/g, "-")
                    .replace(/-+/g, "-")
                    .replace(/^-+|-+$/g, "");
            }

            function getCurrentLanguage() {
                const parts = location.pathname.split("/").filter(Boolean);
                // /news/English/... => parts[0]="news", parts[1]="English"
                return parts[1] || "English";
            }

            function buildCanonicalNewsHref(item) {
                const langRaw = getCurrentLanguage();
                const language = ALLOWED_LANGUAGES.has(langRaw) ? langRaw : "English";

                const rawType = item?.newsType || item?.category || item?.newsCategory || "Other";
                const matchedSector = resolveSectorFromAnyInput(rawType) || "Other";
                const canonicalNewsType = sectorToPathSegment(matchedSector);

                const headline = item?.englishHeadline || item?.headline || item?.title || "";
                const slug = headline ? slugifyLanWorker(headline) : "news";

                const id = item?._id || "";

                return `${location.origin}/news/${language}/${canonicalNewsType}/${slug}/${id}`;
            }

            /* =======================
               YOUR ORIGINAL SCRIPT (UPDATED LINKS âœ…)
            ======================== */

            let newsLoaded = false;
            const categoryEl = document.getElementById("extra-news-category");
            const sector = categoryEl
                ? categoryEl.textContent.trim().toLowerCase().replace(/^\w/, c => c.toUpperCase())
                : "Auto";

            const moreFromEl = document.getElementById("more-from");
            if (moreFromEl) {
                moreFromEl.textContent = `More from ${sector}`;
            }

            function loadNews() {
                if (newsLoaded) return;

                function formatDate(isoString) {
                    if (!isoString) return "NEWS";

                    const date = new Date(isoString);

                    return date.toLocaleString("en-IN", {
                        day: "2-digit",
                        month: "short",
                        year: "numeric",
                        hour: "2-digit",
                        minute: "2-digit",
                        hour12: true
                    });
                }

                newsLoaded = true;
                const API = "https://app1.whalesbook1.shop/published-news-collection/extraFree";
                const matchedSector = resolveSectorFromAnyInput(sector) || sector || "Auto";
                fetch(API, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ sector: matchedSector }),
                    keepalive: true
                })
                    .then(r => r.json())
                    .then(d => {

                        const items = (d.otherSectors || []);
                        const el = document.getElementById("r1");

                        if (el) {
                            if (!items.length) {
                                el.innerHTML = "<div style='color:#555;font-size:12px'>No related news found.</div>";
                            } else {
                                const html = items.map(i => {
                                    const href = buildCanonicalNewsHref(i);

                                    return `
<a class="related-item" href="${href}">
  <img 
    src="${i.imageVersions?.find(img => img.key === 'small')?.url || i.imageUrl}" 
    class="related-img" 
    loading="lazy" 
    decoding="async" 
    alt=""
  >
  <div class="related-info">
    <div class="related-tag">${formatDate(i.scrappedAt) || ''}</div>
    <div class="related-title">${i.title}</div>
  </div>
</a>
`;
                                }).join('');
                                el.innerHTML = html;
                            }
                        }

                        const r2 = document.getElementById("r2");
                        if (r2) {
                            const selectedItems = (d.selectedSector?.reports || []);
                            r2.innerHTML = selectedItems.length
                                ? selectedItems.map(i => {
                                    const href = buildCanonicalNewsHref(i);

                                    return `
<a class="related-item" href="${href}">
  <img 
    src="${i.imageVersions?.find(img => img.key === 'small')?.url || i.imageUrl}" 
    class="related-img" 
    loading="lazy" 
    decoding="async" 
    alt=""
  >
  <div class="related-info">
    <div class="related-tag">${formatDate(i.scrappedAt) || ''}</div>
    <div class="related-title">${i.title}</div>
  </div>
</a>
`;
                                }).join('')
                                : "<div style='color:#555;font-size:12px'></div>";
                        }

                        const r3 = document.getElementById("r3");
                        if (r3) {
                            const randomSectors = (d.randomSectors || []);
                            r3.innerHTML = randomSectors.map(sec => {
                                const reports = sec.reports || [];
                                if (!reports.length) return "";
                                const cards = reports.map(i => {
                                    const href = buildCanonicalNewsHref(i);

                                    return `
<a class="related-item" href="${href}">
  <img 
    src="${i.imageVersions?.find(img => img.key === 'small')?.url || i.imageUrl}" 
    class="related-img" 
    loading="lazy" 
    decoding="async" 
    alt=""
  >
  <div class="related-info">
    <div class="related-tag">${formatDate(i.scrappedAt) || ''}</div>
    <div class="related-title">${i.title}</div>
  </div>
</a>
`;
                                }).join('');

                                return `
<div class="sector-block" style="width:100%;">
  <div class="sector-title" style="color:#a855f7;font-weight:600;margin:12px 0 8px;font-size:14px;">
    ${sec.sector}
  </div>
  <div class="sector-grid last-news">
    ${cards}
  </div>
</div>
`;
                            }).join('');
                        }

                        console.log("âœ… r1, r2, r3 loaded successfully");
                    })
                    .catch(err => {
                        console.error("âŒ Failed to load extra news:", err);
                    });
            }

            loadNews();
            window.loadExtraNews = loadNews;

        })();
    </script>


    <script type="e08a021a6d5bde2c406deaa6-text/javascript">
        (function () {
            var analyticsLoaded = false;

            function loadAnalytics() {
                if (analyticsLoaded) {
                    return;
                }

                analyticsLoaded = true;

                var gaScript = document.createElement('script');
                gaScript.src = "https://www.googletagmanager.com/gtag/js?id=G-7TVD31SZDR";
                gaScript.async = true;
                document.head.appendChild(gaScript);

                window.dataLayer = window.dataLayer || [];
                function gtag() { dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-7TVD31SZDR');

                // Fire Initial GA Event
                gtag("event", "NEWS_DETAILS_PAGE_OPENED", {
                    event_category: "news",
                    event_label: location.pathname
                });


                // --- 2. Load Mixpanel ---

                (function (f, b) {
                    if (!b.__SV) {
                        var e, g, i, h;
                        window.mixpanel = b;
                        b._i = [];
                        b.init = function (e, f, c) {
                            function g(a, d) {
                                var b = d.split(".");
                                2 == b.length && (a = a[b[0]], d = b[1]);
                                a[d] = function () {
                                    a.push([d].concat(Array.prototype.slice.call(arguments, 0)))
                                }
                            }
                            var a = b;
                            "undefined" !== typeof c ? a = b[c] = [] : c = "mixpanel";
                            a.people = a.people || [];
                            i = "track".split(" ");
                            for (h = 0; h < i.length; h++) g(a, i[h]);
                            b._i.push([e, f, c])
                        };
                        b.__SV = 1.2;
                        e = f.createElement("script");
                        e.type = "text/javascript";
                        e.async = !0;
                        e.src = "https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";
                        g = f.getElementsByTagName("script")[0];
                        g.parentNode.insertBefore(e, g);
                    }
                })(document, window.mixpanel || []);

                // Initialize Mixpanel
                mixpanel.init("aa1c4c90b8e7ff96bbf487e3a02043da", { autocapture: false });

                // Fire Initial Mixpanel Event
                mixpanel.track("NEWS_DETAILS_PAGE_OPENED", {
                    position: "NEWS_DETAILS_PAGE",
                    pathname: location.pathname
                });

            }

            // Trigger only on first scroll
            // window.addEventListener("scroll", function onFirstScroll() {

            //     window.removeEventListener("scroll", onFirstScroll);
            // }, { passive: true });

            // Expose for manual testing if needed
            loadAnalytics();
            window.loadAnalytics = loadAnalytics;
        })();
    </script>

    <!-- 3. MASTER SCROLL HANDLER (THE FIX) -->
    <script type="e08a021a6d5bde2c406deaa6-text/javascript">
        window.onscroll = function () {
            // Part A: Update Progress Bar
            var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            var scrolled = (winScroll / height) * 100;

            var bar = document.getElementById("progressBar");
            if (bar) bar.style.width = scrolled + "%";

            // Part B: Trigger Lazy Loaded Scripts
            // This checks if the user has scrolled, then calls the functions.
            // The internal flags inside the functions prevent them from running more than once.
            if (window.loadExtraNews) {
                window.loadExtraNews();
            }

            if (window.loadAnalytics) {
                window.loadAnalytics();
            }
        };
    </script>

    <script type="e08a021a6d5bde2c406deaa6-text/javascript">
        (function () {
            const a = document.getElementById("go-back");
            if (!a) return;

            a.addEventListener("click", function (e) {
                // Only intercept normal left-click navigation
                if (e.defaultPrevented || e.button !== 0 || e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) return;

                // If user has navigation history, go back. Otherwise let /news happen.
                if (window.history.length > 1) {
                    e.preventDefault();
                    window.history.back();
                }
            }, { passive: false });
        })();
    </script>

    <!-- <script>
        (function () {
            var FRAGMENT_URL = "https://whalesbook-cdn.b-cdn.net/home/footer/footer.html";
            var root = document.getElementById("footer-root");
            if (!root) return;

            var loaded = false;

            function loadFooter() {
                if (loaded) return;
                loaded = true;

                console.log("ðŸ“¥ Loading footer...");

                fetch(FRAGMENT_URL, { cache: "no-cache" }) // 'no-cache' ensures you see changes immediately
                    .then(function (r) { return r.text(); })
                    .then(function (markup) {
                        // 1. Inject HTML
                        root.innerHTML = markup;

                        // 2. Move Styles to Head
                        var styles = root.querySelectorAll('style');
                        styles.forEach(function (s) { document.head.appendChild(s); });

                        // 3. EXECUTE SCRIPTS (Universal Logic)
                        // If scripts exist (Ad), this runs them.
                        // If no scripts exist (Simple HTML), this loop does nothing.
                        var scripts = root.querySelectorAll('script');
                        scripts.forEach(function (oldScript) {
                            var newScript = document.createElement('script');

                            // Copy attributes (src, id, async, etc.)
                            Array.from(oldScript.attributes).forEach(function (attr) {
                                newScript.setAttribute(attr.name, attr.value);
                            });

                            // Copy content (for inline scripts)
                            if (oldScript.innerHTML) {
                                newScript.appendChild(document.createTextNode(oldScript.innerHTML));
                            }

                            // Replace old dead script with new live script
                            oldScript.parentNode.replaceChild(newScript, oldScript);
                        });

                        console.log("âœ… Footer loaded successfully");
                    })
                    .catch(function (err) {
                        console.error("âŒ Failed to load footer", err);
                    });
            }

            // Delay slightly to prioritize main page content
            setTimeout(() => {
                loadFooter();
            }, 2000);
        })();
    </script> -->


    <script type="e08a021a6d5bde2c406deaa6-text/javascript">
        (function () {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent(document.title);

            document.querySelector('.share-icon.whatsapp').href =
                `https://wa.me/?text=${title}%20${url}`;

            document.querySelector('.share-icon.x').href =
                `https://twitter.com/intent/tweet?text=${title}&url=${url}`;


            document.querySelector('.share-icon.facebook').href =
                `https://www.facebook.com/sharer/sharer.php?u=${url}`;
        })();
    </script>

    <script type="e08a021a6d5bde2c406deaa6-text/javascript">
        fetch("https://whalesbook-cdn.b-cdn.net/home/header/header.html")
            .then(res => res.text())
            .then(html => {
                document.getElementById("header-root").innerHTML = html;
            });
    </script>

<script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="e08a021a6d5bde2c406deaa6-|49" defer></script></body>

</html>